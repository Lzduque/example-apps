DROP TABLE IF EXISTS TodoListItem;

DROP TABLE IF EXISTS User;

DROP TABLE IF EXISTS Session;

CREATE TABLE IF NOT EXISTS TodoListItem (
	id INTEGER PRIMARY KEY,
	name TEXT NOT NULL,
	checked INTEGER DEFAULT FALSE,
	createdAt TEXT DEFAULT CURRENT_TIMESTAMP,
	updatedAt TEXT DEFAULT CURRENT_TIMESTAMP,
	userId INTEGER NOT NULL,
    FOREIGN KEY (userId)
       REFERENCES User (id) 
) STRICT;

CREATE TABLE IF NOT EXISTS User (
	id INTEGER PRIMARY KEY,
	email TEXT NOT NULL UNIQUE,
	password TEXT NOT NULL,
	createdAt TEXT DEFAULT CURRENT_TIMESTAMP,
	updatedAt TEXT DEFAULT CURRENT_TIMESTAMP
) STRICT;

CREATE TABLE IF NOT EXISTS Session (
	id TEXT PRIMARY KEY,
	userId INTEGER NOT NULL,
	createdAt TEXT DEFAULT CURRENT_TIMESTAMP,
	updatedAt TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (userId)
       REFERENCES User (id)
) STRICT;
